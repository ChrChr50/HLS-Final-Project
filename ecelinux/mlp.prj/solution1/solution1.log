==============================================================
Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC v2019.2 (64-bit)
Copyright 1986-2019 Xilinx, Inc. All Rights Reserved.
==============================================================
==============================================================
Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC v2019.2 (64-bit)
Copyright 1986-2019 Xilinx, Inc. All Rights Reserved.
==============================================================
INFO: [HLS 200-10] Setting target device to 'xc7z020-clg484-1'
INFO: [SYN 201-201] Setting up clock 'default' with a period of 10ns.
INFO: [SCHED 204-61] Option 'relax_ii_for_timing' is enabled, will increase II to preserve clock frequency constraints.
INFO: [HLS 200-10] Analyzing design file 'mlp.cpp' ... 
ERROR: [HLS 200-70] Compilation errors found: In file included from mlp.cpp:1:
In file included from mlp.cpp:8:
./mlp.h:16:2: error: expected ';' after struct
}
 ^
 ;
In file included from mlp.cpp:1:
In file included from mlp.cpp:6:
/opt/xilinx/Vivado/2019.2/common/technology/autopilot/hls_stream.h:151:43: error: function cannot return array type 'ap_fixed<16, 6, 5, 3, 0> [2]'
    inline __attribute__((always_inline)) __STREAM_T__ read() {
                                          ^
mlp.cpp:34:11: note: in instantiation of template class 'hls::stream<ap_fixed<16, 6, 5, 3, 0> [2]>' requested here
  strm_out.write(mv);
          ^
mlp.cpp:34:18: error: no viable conversion from 'MeanVariance' to 'ap_fixed<16, 6, 5, 3, 0> const[2]'
  strm_out.write(mv);
                 ^~
/opt/xilinx/Vivado/2019.2/common/technology/autopilot/hls_stream.h:174:74: note: passing argument to parameter 'din' here
    inline __attribute__((always_inline)) void write(const __STREAM_T__& din) {
                                                                         ^
/opt/xilinx/Vivado/2019.2/common/technology/autopilot/hls_stream.h:176:22: error: array initializer must be an initializer list
        __STREAM_T__ tmp = din;
                     ^
mlp.cpp:34:12: note: in instantiation of member function 'hls::stream<ap_fixed<16, 6, 5, 3, 0> [2]>::write' requested here
  strm_out.write(mv);
           ^
4 errors generated.
==============================================================
Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC v2019.2 (64-bit)
Copyright 1986-2019 Xilinx, Inc. All Rights Reserved.
==============================================================
==============================================================
Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC v2019.2 (64-bit)
Copyright 1986-2019 Xilinx, Inc. All Rights Reserved.
==============================================================
INFO: [HLS 200-10] Setting target device to 'xc7z020-clg484-1'
INFO: [SYN 201-201] Setting up clock 'default' with a period of 10ns.
INFO: [SCHED 204-61] Option 'relax_ii_for_timing' is enabled, will increase II to preserve clock frequency constraints.
INFO: [HLS 200-10] Analyzing design file 'mlp.cpp' ... 
INFO: [HLS 200-111] Finished Linking Time (s): cpu = 00:00:11 ; elapsed = 00:00:13 . Memory (MB): peak = 1168.148 ; gain = 530.125 ; free physical = 8529 ; free virtual = 24102
INFO: [HLS 200-111] Finished Checking Pragmas Time (s): cpu = 00:00:11 ; elapsed = 00:00:13 . Memory (MB): peak = 1168.148 ; gain = 530.125 ; free physical = 8529 ; free virtual = 24102
INFO: [HLS 200-10] Starting code transformations ...
INFO: [HLS 200-111] Finished Standard Transforms Time (s): cpu = 00:00:12 ; elapsed = 00:00:14 . Memory (MB): peak = 1168.148 ; gain = 530.125 ; free physical = 8500 ; free virtual = 24080
INFO: [HLS 200-10] Checking synthesizability ...
INFO: [XFORM 203-602] Inlining function 'dense<9, 64>' into 'mlp_monte_carlo' (mlp.cpp:69) automatically.
INFO: [XFORM 203-602] Inlining function 'relu<64>' into 'mlp_monte_carlo' (mlp.cpp:70) automatically.
INFO: [XFORM 203-602] Inlining function 'apply_dropout<64>' into 'mlp_monte_carlo' (mlp.cpp:71) automatically.
INFO: [XFORM 203-602] Inlining function 'dense<64, 32>' into 'mlp_monte_carlo' (mlp.cpp:73) automatically.
INFO: [XFORM 203-602] Inlining function 'relu<32>' into 'mlp_monte_carlo' (mlp.cpp:74) automatically.
INFO: [XFORM 203-602] Inlining function 'apply_dropout<32>' into 'mlp_monte_carlo' (mlp.cpp:75) automatically.
INFO: [XFORM 203-602] Inlining function 'dense<32, 16>' into 'mlp_monte_carlo' (mlp.cpp:77) automatically.
INFO: [XFORM 203-602] Inlining function 'dense<16, 16>' into 'mlp_monte_carlo' (mlp.cpp:81) automatically.
INFO: [XFORM 203-602] Inlining function 'dense<16, 1>' into 'mlp_monte_carlo' (mlp.cpp:85) automatically.
INFO: [XFORM 203-602] Inlining function 'calculate_mean' into 'mlp_monte_carlo' (mlp.cpp:88) automatically.
INFO: [XFORM 203-602] Inlining function 'calculate_variance' into 'mlp_monte_carlo' (mlp.cpp:89) automatically.
INFO: [XFORM 203-602] Inlining function 'mlp_xcel' into 'dut' (mlp.cpp:28) automatically.
WARNING: [SYNCHK 200-120] ./layer.h:50: multiplication is assumed not to overflow by default, otherwise, please add option '-fwrapv'.
INFO: [SYNCHK 200-10] 0 error(s), 1 warning(s).
INFO: [HLS 200-111] Finished Checking Synthesizability Time (s): cpu = 00:00:12 ; elapsed = 00:00:14 . Memory (MB): peak = 1168.148 ; gain = 530.125 ; free physical = 8494 ; free virtual = 24076
INFO: [XFORM 203-502] Unrolling small iteration loop 'Loop-1' (./layer.h:14) in function 'dense<16, 1>' automatically.
INFO: [HLS 200-489] Unrolling loop 'Loop-1' (./layer.h:14) in function 'dense<16, 1>' completely with a factor of 1.
INFO: [XFORM 203-102] Partitioning array 'dense4.V' (mlp.cpp:56) automatically.
INFO: [XFORM 203-102] Partitioning array 'w5.V' in dimension 2 automatically.
INFO: [XFORM 203-602] Inlining function 'dense<9, 64>' into 'mlp_monte_carlo' (mlp.cpp:69) automatically.
INFO: [XFORM 203-602] Inlining function 'relu<64>' into 'mlp_monte_carlo' (mlp.cpp:70) automatically.
INFO: [XFORM 203-602] Inlining function 'apply_dropout<64>' into 'mlp_monte_carlo' (mlp.cpp:71) automatically.
INFO: [XFORM 203-602] Inlining function 'dense<64, 32>' into 'mlp_monte_carlo' (mlp.cpp:73) automatically.
INFO: [XFORM 203-602] Inlining function 'relu<32>' into 'mlp_monte_carlo' (mlp.cpp:74) automatically.
INFO: [XFORM 203-602] Inlining function 'apply_dropout<32>' into 'mlp_monte_carlo' (mlp.cpp:75) automatically.
INFO: [XFORM 203-602] Inlining function 'dense<32, 16>' into 'mlp_monte_carlo' (mlp.cpp:77) automatically.
INFO: [XFORM 203-602] Inlining function 'dense<16, 16>' into 'mlp_monte_carlo' (mlp.cpp:81) automatically.
INFO: [XFORM 203-602] Inlining function 'dense<16, 1>' into 'mlp_monte_carlo' (mlp.cpp:85) automatically.
INFO: [XFORM 203-602] Inlining function 'calculate_mean' into 'mlp_monte_carlo' (mlp.cpp:88) automatically.
INFO: [XFORM 203-602] Inlining function 'calculate_variance' into 'mlp_monte_carlo' (mlp.cpp:89) automatically.
INFO: [XFORM 203-602] Inlining function 'mlp_xcel' into 'dut' (mlp.cpp:28) automatically.
INFO: [XFORM 203-401] Performing if-conversion on hyperblock from (./layer.h:35:5) to (./layer.h:34:29) in function 'mlp_monte_carlo'... converting 3 basic blocks.
INFO: [XFORM 203-401] Performing if-conversion on hyperblock from (./layer.h:35:5) to (./layer.h:34:29) in function 'mlp_monte_carlo'... converting 3 basic blocks.
INFO: [XFORM 203-401] Performing if-conversion on hyperblock from (./layer.h:35:5) to (./layer.h:34:29) in function 'apply_dropout<16>'... converting 3 basic blocks.
INFO: [XFORM 203-602] Inlining function 'apply_dropout<16>' into 'mlp_monte_carlo' (mlp.cpp:79) automatically.
INFO: [HLS 200-111] Finished Pre-synthesis Time (s): cpu = 00:00:13 ; elapsed = 00:00:14 . Memory (MB): peak = 1168.148 ; gain = 530.125 ; free physical = 8462 ; free virtual = 24046
INFO: [HLS 200-472] Inferring partial write operation for 'data.V' (./layer.h:27:7)
INFO: [HLS 200-472] Inferring partial write operation for 'dense0.V' (./layer.h:19:5)
INFO: [HLS 200-472] Inferring partial write operation for 'dense0.V' (./layer.h:27:7)
INFO: [HLS 200-472] Inferring partial write operation for 'dropout0.V' (./layer.h:35:5)
INFO: [HLS 200-472] Inferring partial write operation for 'dense1.V' (./layer.h:19:5)
INFO: [HLS 200-472] Inferring partial write operation for 'dense1.V' (./layer.h:27:7)
INFO: [HLS 200-472] Inferring partial write operation for 'dropout1.V' (./layer.h:35:5)
INFO: [HLS 200-472] Inferring partial write operation for 'dense2.V' (./layer.h:19:5)
INFO: [HLS 200-472] Inferring partial write operation for 'dropout2.V' (./layer.h:35:5)
INFO: [HLS 200-472] Inferring partial write operation for 'dense3.V' (./layer.h:19:5)
INFO: [HLS 200-472] Inferring partial write operation for 'dropout3.V' (./layer.h:35:5)
INFO: [HLS 200-472] Inferring partial write operation for 'outputs.V' (mlp.cpp:86:7)
INFO: [HLS 200-472] Inferring partial write operation for 'input.V' (mlp.cpp:24:16)
INFO: [HLS 200-111] Finished Architecture Synthesis Time (s): cpu = 00:00:13 ; elapsed = 00:00:15 . Memory (MB): peak = 1168.148 ; gain = 530.125 ; free physical = 8444 ; free virtual = 24029
INFO: [HLS 200-10] Starting hardware synthesis ...
INFO: [HLS 200-10] Synthesizing 'dut' ...
WARNING: [SYN 201-103] Legalizing function name 'relu<16>' to 'relu_16_s'.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-42] -- Implementing module 'relu_16_s' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [SCHED 204-11] Starting scheduling ...
INFO: [SCHED 204-11] Finished scheduling.
INFO: [HLS 200-111]  Elapsed time: 14.8 seconds; current allocated memory: 177.588 MB.
INFO: [BIND 205-100] Starting micro-architecture generation ...
INFO: [BIND 205-101] Performing variable lifetime analysis.
INFO: [BIND 205-101] Exploring resource sharing.
INFO: [BIND 205-101] Binding ...
INFO: [BIND 205-100] Finished micro-architecture generation.
INFO: [HLS 200-111]  Elapsed time: 0.02 seconds; current allocated memory: 177.685 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-42] -- Implementing module 'mlp_monte_carlo' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [SCHED 204-11] Starting scheduling ...
INFO: [SCHED 204-11] Finished scheduling.
INFO: [HLS 200-111]  Elapsed time: 0.11 seconds; current allocated memory: 178.755 MB.
INFO: [BIND 205-100] Starting micro-architecture generation ...
INFO: [BIND 205-101] Performing variable lifetime analysis.
INFO: [BIND 205-101] Exploring resource sharing.
INFO: [BIND 205-101] Binding ...
INFO: [BIND 205-100] Finished micro-architecture generation.
INFO: [HLS 200-111]  Elapsed time: 0.17 seconds; current allocated memory: 179.973 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-42] -- Implementing module 'dut' 
INFO: [HLS 200-10]